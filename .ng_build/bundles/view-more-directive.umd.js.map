{"version":3,"file":"view-more-directive.umd.js","sources":["../ts/src/app/app.module.ts","../ts/src/app/view-more.directive.ts","../ts/src/app/app.component.ts"],"sourcesContent":["import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n\nimport { AppComponent } from './app.component';\nimport { ViewMoreDirective } from './view-more.directive';\nexport class AppModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  declarations: [\n    AppComponent,\n    ViewMoreDirective\n  ],\n  imports: [\n    BrowserModule\n  ],\n  exports:[ViewMoreDirective],\n  providers: [],\n  bootstrap: [AppComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AppModule_tsickle_Closure_declarations() {\n/** @type {?} */\nAppModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAppModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Directive, ElementRef, OnInit, AfterViewInit, Output, Input, EventEmitter, OnDestroy } from '@angular/core';\nexport class ViewMoreDirective implements OnInit, AfterViewInit, OnDestroy {\nprivate element: HTMLInputElement;\n   viewHeight: number;\n   showMore = new EventEmitter<boolean>()\n  toggleShowMore = false;\n  actualHeight: number;\n/**\n * @param {?} elRef\n */\nconstructor(private elRef: ElementRef) {\n    //elRef will get a reference to the element where\n    //the directive is placed\n    this.element = elRef.nativeElement;\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    console.log('height equal', this.viewHeight, this.element.offsetHeight);\n  }\n/**\n * @return {?}\n */\nngAfterViewInit() {\n    this.actualHeight = this.element.offsetHeight + 10;\n    if (this.element.offsetHeight > this.viewHeight) {\n      let /** @type {?} */ btnName = 'view More...'\n      console.log('height equal');\n\n      let /** @type {?} */ para = document.createElement(\"p\");\n      let /** @type {?} */ span = document.createElement(\"span\");\n      let /** @type {?} */ textNode = document.createTextNode(`${ btnName }`);\n      span.appendChild(textNode);\n      para.appendChild(span);\n      para.setAttribute(`style`, `text-align: right;`);\n      span.setAttribute(`id`, `text_view`);\n      span.setAttribute('style', 'cursor:pointer;')\n      this.element.parentNode.insertBefore(para, this.element.nextSibling)\n      this.toggleEventOnViewMore(span)\n      setTimeout(() => {\n        this.showMore.emit(true);\n      }, 1000)\n    }\n    else {\n      console.log('height not equal');\n      this.showMore.emit(false);\n    }\n  }\n/**\n * @param {?} element\n * @return {?}\n */\ntoggleEventOnViewMore(element: HTMLElement) {\n    this.element.setAttribute(\n      `style`,\n      `overflow: hidden;\n    height: ${this.viewHeight }px;\n    transition: height 1s ease;\n    `\n    );\n    let /** @type {?} */ createdStyleTag: HTMLStyleElement;\n    createdStyleTag = document.createElement(\"style\");\n    createdStyleTag.setAttribute(`id`, `style_view_more`);\n    createdStyleTag.textContent = `.view_more {\n      height: ${this.actualHeight }px !important;\n    }  \n`;\n    this.element.style.animationDirection = \"\";\n    // document.body.appendChild(createdStyleTag);\n    this.element.appendChild(createdStyleTag);\n    element.addEventListener('click', () => {\n\n      if (this.toggleShowMore) {\n        console.log('viewless');\n        this.element.classList.remove(\"view_more\");\n        document.getElementById('text_view').innerHTML = 'view more...';\n        this.toggleShowMore = !this.toggleShowMore;\n      } else {\n        console.log('viewmore');\n        document.getElementById('text_view').innerHTML = 'view less...';\n        this.element.classList.add(\"view_more\");\n        this.toggleShowMore = !this.toggleShowMore;\n      }\n    })\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    document.getElementById('style_view_more').remove();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[view-more]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'viewHeight': [{ type: Input },],\n'showMore': [{ type: Output },],\n};\n}\n\nfunction ViewMoreDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nViewMoreDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nViewMoreDirective.ctorParameters;\n/** @type {?} */\nViewMoreDirective.propDecorators;\n/** @type {?} */\nViewMoreDirective.prototype.element;\n/** @type {?} */\nViewMoreDirective.prototype.viewHeight;\n/** @type {?} */\nViewMoreDirective.prototype.showMore;\n/** @type {?} */\nViewMoreDirective.prototype.toggleShowMore;\n/** @type {?} */\nViewMoreDirective.prototype.actualHeight;\n/** @type {?} */\nViewMoreDirective.prototype.elRef;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component } from '@angular/core';\nexport class AppComponent {\n  title = 'app';\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'app-root',\n  template: `\n    <!--The content below is only a placeholder and can be replaced.-->\n    <div style=\"text-align:center\">\n      <h1>\n        Welcome to {{ title }}!\n      </h1>\n      <img width=\"300\" alt=\"Angular Logo\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\">\n    </div>\n    <h2>Here are some links to help you start: </h2>\n    <ul>\n      <li>\n        <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://angular.io/tutorial\">Tour of Heroes</a></h2>\n      </li>\n      <li>\n        <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/angular/angular-cli/wiki\">CLI Documentation</a></h2>\n      </li>\n      <li>\n        <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.angular.io/\">Angular blog</a></h2>\n      </li>\n    </ul>\n  `,\n  styles: [`\n\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AppComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nAppComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAppComponent.ctorParameters;\n/** @type {?} */\nAppComponent.prototype.title;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["BrowserModule","NgModule","Output","Input","ElementRef","Directive","EventEmitter","Component"],"mappings":"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"}