{"version":3,"sources":["view-more.directive.ts"],"names":[],"mappings":"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","file":"view-more.directive.js","sourceRoot":"","sourcesContent":["import { Directive, ElementRef, OnInit, AfterViewInit, Output, Input, EventEmitter, OnDestroy } from '@angular/core';\nexport class ViewMoreDirective implements OnInit, AfterViewInit, OnDestroy {\nprivate element: HTMLInputElement;\n   viewHeight: number;\n   showMore = new EventEmitter<boolean>()\n  toggleShowMore = false;\n  actualHeight: number;\n/**\n * @param {?} elRef\n */\nconstructor(private elRef: ElementRef) {\n    //elRef will get a reference to the element where\n    //the directive is placed\n    this.element = elRef.nativeElement;\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    console.log('height equal', this.viewHeight, this.element.offsetHeight);\n  }\n/**\n * @return {?}\n */\nngAfterViewInit() {\n    this.actualHeight = this.element.offsetHeight + 10;\n    if (this.element.offsetHeight > this.viewHeight) {\n      let /** @type {?} */ btnName = 'view More...'\n      console.log('height equal');\n\n      let /** @type {?} */ para = document.createElement(\"p\");\n      let /** @type {?} */ span = document.createElement(\"span\");\n      let /** @type {?} */ textNode = document.createTextNode(`${ btnName }`);\n      span.appendChild(textNode);\n      para.appendChild(span);\n      para.setAttribute(`style`, `text-align: right;`);\n      span.setAttribute(`id`, `text_view`);\n      span.setAttribute('style', 'cursor:pointer;')\n      this.element.parentNode.insertBefore(para, this.element.nextSibling)\n      this.toggleEventOnViewMore(span)\n      setTimeout(() => {\n        this.showMore.emit(true);\n      }, 1000)\n    }\n    else {\n      console.log('height not equal');\n      this.showMore.emit(false);\n    }\n  }\n/**\n * @param {?} element\n * @return {?}\n */\ntoggleEventOnViewMore(element: HTMLElement) {\n    this.element.setAttribute(\n      `style`,\n      `overflow: hidden;\n    height: ${this.viewHeight }px;\n    transition: height 1s ease;\n    `\n    );\n    let /** @type {?} */ createdStyleTag: HTMLStyleElement;\n    createdStyleTag = document.createElement(\"style\");\n    createdStyleTag.setAttribute(`id`, `style_view_more`);\n    createdStyleTag.textContent = `.view_more {\n      height: ${this.actualHeight }px !important;\n    }  \n`;\n    this.element.style.animationDirection = \"\";\n    // document.body.appendChild(createdStyleTag);\n    this.element.appendChild(createdStyleTag);\n    element.addEventListener('click', () => {\n\n      if (this.toggleShowMore) {\n        console.log('viewless');\n        this.element.classList.remove(\"view_more\");\n        document.getElementById('text_view').innerHTML = 'view more...';\n        this.toggleShowMore = !this.toggleShowMore;\n      } else {\n        console.log('viewmore');\n        document.getElementById('text_view').innerHTML = 'view less...';\n        this.element.classList.add(\"view_more\");\n        this.toggleShowMore = !this.toggleShowMore;\n      }\n    })\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    document.getElementById('style_view_more').remove();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[view-more]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'viewHeight': [{ type: Input },],\n'showMore': [{ type: Output },],\n};\n}\n\nfunction ViewMoreDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nViewMoreDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nViewMoreDirective.ctorParameters;\n/** @type {?} */\nViewMoreDirective.propDecorators;\n/** @type {?} */\nViewMoreDirective.prototype.element;\n/** @type {?} */\nViewMoreDirective.prototype.viewHeight;\n/** @type {?} */\nViewMoreDirective.prototype.showMore;\n/** @type {?} */\nViewMoreDirective.prototype.toggleShowMore;\n/** @type {?} */\nViewMoreDirective.prototype.actualHeight;\n/** @type {?} */\nViewMoreDirective.prototype.elRef;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}