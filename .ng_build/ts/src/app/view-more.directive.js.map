{"version":3,"sources":["view-more.directive.ts"],"names":[],"mappings":"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","file":"view-more.directive.js","sourceRoot":"","sourcesContent":["import { Directive, ElementRef, OnInit, Output, Input, EventEmitter, OnDestroy, AfterViewChecked, SimpleChanges } from '@angular/core';\nexport class ViewMoreDirective implements OnInit, AfterViewChecked, OnDestroy {\nprivate element: HTMLInputElement;\n   viewHeight: number;\n   showMore = new EventEmitter<boolean>()\n  toggleShowMore = false;\n  actualHeight: number;\nprivate isInsertedViewMoreBtn = false;\n/**\n * @param {?} elRef\n */\nconstructor(private elRef: ElementRef) {\n    //elRef will get a reference to the element where\n    //the directive is placed\n    this.element = elRef.nativeElement;\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n    // console.log('changes',changes);\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    console.log('height equal', this.viewHeight, this.element.offsetHeight);\n  }\n/**\n * @return {?}\n */\nngAfterViewChecked() {\n    this.actualHeight = this.element.offsetHeight + 10;\n    if (!this.isInsertedViewMoreBtn && (this.element.offsetHeight > this.viewHeight)) {\n      let /** @type {?} */ btnName = 'view More...';\n      console.log('height equal');\n\n      let /** @type {?} */ para = document.createElement(\"p\");\n      let /** @type {?} */ span = document.createElement(\"span\");\n      let /** @type {?} */ textNode = document.createTextNode(`${ btnName }`);\n      span.appendChild(textNode);\n      para.appendChild(span);\n      para.setAttribute(`style`, `text-align: right;`);\n      span.setAttribute(`id`, `text_view`);\n      span.setAttribute('style', 'cursor:pointer;')\n      this.element.parentNode.insertBefore(para, this.element.nextSibling)\n      this.toggleEventOnViewMore(span);\n      this.isInsertedViewMoreBtn = true;\n    }\n  }\n/**\n * @param {?} element\n * @return {?}\n */\ntoggleEventOnViewMore(element: HTMLElement) {\n    this.element.setAttribute(\n      `style`,\n      `overflow: hidden;\n    height: ${this.viewHeight }px;\n    transition: height 1s ease;\n    `\n    );\n    let /** @type {?} */ createdStyleTag: HTMLStyleElement;\n    createdStyleTag = document.createElement(\"style\");\n    createdStyleTag.setAttribute(`id`, `style_view_more`);\n    createdStyleTag.textContent = `.view_more {\n      height: ${this.actualHeight }px !important;\n    }  \n`;\n    this.element.style.animationDirection = \"\";\n    // document.body.appendChild(createdStyleTag);\n    this.element.appendChild(createdStyleTag);\n    element.addEventListener('click', () => {\n\n      if (this.toggleShowMore) {\n        console.log('viewless');\n        this.element.classList.remove(\"view_more\");\n        document.getElementById('text_view').innerHTML = 'view more...';\n        this.toggleShowMore = !this.toggleShowMore;\n        this.showMore.emit(false);\n      } else {\n        console.log('viewmore');\n        document.getElementById('text_view').innerHTML = 'view less...';\n        this.element.classList.add(\"view_more\");\n        this.toggleShowMore = !this.toggleShowMore;\n        this.showMore.emit(true);\n      }\n    })\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    document.getElementById('style_view_more').remove();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[view-more]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'viewHeight': [{ type: Input },],\n'showMore': [{ type: Output },],\n};\n}\n\nfunction ViewMoreDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nViewMoreDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nViewMoreDirective.ctorParameters;\n/** @type {?} */\nViewMoreDirective.propDecorators;\n/** @type {?} */\nViewMoreDirective.prototype.element;\n/** @type {?} */\nViewMoreDirective.prototype.viewHeight;\n/** @type {?} */\nViewMoreDirective.prototype.showMore;\n/** @type {?} */\nViewMoreDirective.prototype.toggleShowMore;\n/** @type {?} */\nViewMoreDirective.prototype.actualHeight;\n/** @type {?} */\nViewMoreDirective.prototype.isInsertedViewMoreBtn;\n/** @type {?} */\nViewMoreDirective.prototype.elRef;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}